<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<title>Nothing Works</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Alegreya:ital@1&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Alegreya:ital@1&family=Lato:wght@300;400&display=swap');
      
      .animate__animated.animate__fadeOut {
        --animate-duration: 3.9s;
      }
      
      .container {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        display: grid;
      }
      
      .center {
        margin: auto;
      }
      
      .lyric {
        font-family: "Alegreya";	/* can change */
        font-size: 17px;
        text-align: center;
        color: #fff;
      }
      
      #nw-input {
        margin-top: -10px;
        margin-bottom: 45px;
        font-family: "Lato";
        padding: 2px 4px;
        text-transform: uppercase;
      }
      
      #nw-input:focus {
        outline: none !important;
        border-radius: 3px;
        border: 1.5px solid #dedede; /* can be other colors */
      }
      
      .chorus {
        animation: .1s shake 39 alternate;
      }

      @keyframes shake {
        0% { transform: skewX(-25deg); }
        5% { transform: skewX(25deg); }
        10% { transform: skewX(-25deg); }
        15% { transform: skewX(25deg); }
        20% { transform: skewX(0deg); }
        100% { transform: skewX(0deg); }  
      }
    </style>
	</head>
  
	<body>
    <div id="bg" class="container"></div>
    <div id="main" class="container" style="background-color: #fff">
      <div class="center">
				<p id="nw-lyric" class="lyric" style="color: #000">nothing works</p>
        <input type="text" id="nw-input" size="16" autocomplete="on" style="display: block">
        <p class="lyric" style="display: none;">nothing works for everyone</p>
        <p class="lyric" style="display: none;">good stories are bad lives</p>
        <p class="lyric" style="display: none;">good stories are bad lives...</p>
        <p class="lyric chorus" style="display: none;">take your hands off your neck and</p>
				<p class="lyric chorus" style="display: none;">hold onto the ghost of my body</p>
        <p class="lyric chorus" style="display: none;">you know that good lives make bad stories</p>
        <p class="lyric chorus" style="display: none;">you can text me!</p>
        <p class="lyric chorus" style="display: none;">when punching matresses get old</p>
        <p class="lyric chorus" style="display: none;">don't think it'll always be this way</p>
        <p class="lyric chorus" style="display: none;">not comforted by anything you say</p>
        <p class="lyric chorus" style="display: none;">we were wrecks before we crashed into each other</p>
				<input type="text" id="www-input" size="56" autocomplete="on" style="display: none">
      </div>
    </div>	
	</body>
  
  <script>
    // make lyrics appear randomly
    
    let bg = document.getElementById("bg")
  	let main = document.getElementById("main")
    let nwInput = document.getElementById("nw-input")
    let nwLyric = document.getElementById("nw-lyric")
    let lyrics = document.getElementsByClassName("lyric")
    
    function fadeOut(lyric) {
      lyric.style.display = "block"
      lyric.classList.add("animate__animated")
      lyric.classList.add("animate__fadeOut")
      setTimeout(function() {lyric.style.display = "none"}, 3900)
    }
    
    function nothingWorks() {
      main.style.backgroundColor = "#000"
      nwLyric.style.color = "#fff"
      nwInput.style.display = "none"
      fadeOut(nwLyric)
      for (let i = 1; i < lyrics.length; i++) {
        setTimeout(fadeOut, i * 4000, lyrics.item(i))
      }
    }
    
    function createImg(name, z) {
      let img = document.createElement("img")
      img.src = name
      main.appendChild(img)
      img.style.position = "absolute"
      img.style.zIndex = z 
      return img
    }
    
    function createGif(name, width, x, y, z) {
      const gif = document.createElement("img")
      gif.src = name
      gif.width = width
      bg.appendChild(gif)
      gif.style.position = "absolute"
      gif.style.left = x + "px"
      gif.style.top = y + "px"
      gif.style.zIndex = z
    }
    
    function createRain() {
      // for (let j = 0; j < 4; j++) {
        // setTimeout(function() {
          
          for (let i = 0; i < 100; i++) {
            let x = Math.random() * window.innerWidth
            let y = Math.random() * (window.innerHeight) - 150
            createGif("rain.gif", 300, x, y, 1) // 0.9s duration, create div that makes it random one after another
          }
          setTimeout(function() {bg.innerHTML = ""}, 900)
      	// }, 900)
        // 
        

      // }
    }
    
    createRain()
    
    let manW = 60
    let manH = manW * 4 / 3
    let man1 = createImg("man-1-invert.png")
    man1.style.width = manW + "px"
    man1.style.top = 0 + "px"
    man1.style.left = 0 + "px"
    
    let man2 = createImg("man-2-invert.png")
    man2.style.width = manW + "px"
    man2.style.top = window.innerHeight - manH 
    man2.style.left = window.innerWidth - manW
    
    let vx1 = 1
    let vy1 = 1
    
    let vx2 = 1
    let vy2 = 1
    
    let x1 = 0
    let y1 = 0
    
    function animateMan1() {
      requestAnimationFrame(animateMan1) 
      
      let topScrn = 0
      let bottomScrn = window.innerHeight - manH
      
      let leftScrn = 0
      let rightScrn = window.innerWidth / 2 - manW - 10
      
      if (x1 < leftScrn || x1 > rightScrn) {
        vx1 = -vx1
      }
      
      if (y1 < topScrn || y1 > bottomScrn) { 
        vy1 = -vy1
      } 
      
      x1 += vx1
      y1 += vy1
      
      man1.style.left = x1 + "px"
      man1.style.top = y1 + "px"
    }
    
    let x2 = window.innerWidth - manW
    let y2 = window.innerHeight - manH
    
    function animateMan2() {
      requestAnimationFrame(animateMan2) 
      
      let topScrn = 0
      let bottomScrn = window.innerHeight - manH
      
      let leftScrn = window.innerWidth / 2 - manW + 10
      let rightScrn = window.innerWidth - manW
      
      if (x2 < leftScrn || x2 > rightScrn) {
        vx2 = -vx2
      }
      
      if (y2 < topScrn || y2 > bottomScrn) { 
        vy2 = -vy2
      } 
      
      x2 += vx2
      y2 += vy2
      
      man2.style.left = x2 + "px"
      man2.style.top = y2 + "px"
    }
    
    // animateMan1()
    // animateMan2()
    
    window.addEventListener("keypress", function(event) {
      if (event.keyCode === 13 && nwInput.value.toLowerCase() === "nothing works") {
        nothingWorks()
      }
    })
    
    // also for resize
    
  </script>
</html>
s